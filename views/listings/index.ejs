<% layout('layouts/default') %>
    <header>
        <div class="filters">
            <a href="/Listings?filter=Trending" class="filter">
                <div><i class="fa-solid fa-fire"></i></div>
                <p>Trending</p>
            </a>
            <a href="/Listings?filter=Rooms" class="filter">
                <div><i class="fa-solid fa-bed"></i></div>
                <p>Rooms</p>
            </a>
            <a href="/Listings?filter=Cities" class="filter">
                <div><i class="fa-solid fa-building-wheat"></i></div>
                <p>Cities</p>
            </a>
            <a href="/Listings?filter=Beach" class="filter">
                <div><i class="fa-solid fa-umbrella-beach"></i></div>
                <p>Beach</p>
            </a>
            <a href="/Listings?filter=Camping" class="filter">
                <div><i class="fa-solid fa-tents"></i></div>
                <p>Camping</p>
            </a>
            <a href="/Listings?filter=Mountains" class="filter">
                <div><i class="fa-solid fa-mountain"></i></div>
                <p>Mountains</p>
            </a>
            <a href="/Listings?filter=Farm" class="filter">
                <div><i class="fa-solid fa-cow"></i></div>
                <p>Farm</p>
            </a>
            <a href="/Listings?filter=Castles" class="filter">
                <div><i class="fa-brands fa-fort-awesome"></i></div>
                <p>Castles</p>
            </a>
            <a href="/Listings?filter=Boats" class="filter">
                <div><i class="fa-solid fa-sailboat"></i></div>
                <p>Boats</p>
            </a>
            <a href="/Listings?filter=Arctic" class="filter">
                <div><i class="fa-solid fa-snowflake"></i></div>
                <p>Arctic</p>
            </a>
        </div>

        <div class="tax-toggle">
            <div class="form-switch form-check-reverse">
                <input class="form-check-input" type="checkbox" role="switch" id="switchCheckReverse">
                <label class="form-check-label" for="switchCheckReverse">Display total after tax</label>
            </div>
        </div>
    </header>

    <body>
        <div class="row g-4 mb-4 mt-2">
            <% for(let place of data) { %>
                <div class="col-xl-3 col-md-4 col-sm-6 col-xs-8 d-flex">
                    <a href="/Listings/<%= place._id %>" class="text-decoration-none w-100">
                        <div class="card border border-0 h-100">
                            <img src=" <%=place.image.url %>" loading="lazy"
                                class="img-fluid card-img-top object-fit-cover border-0 rounded-4" alt="place-img"
                                style="height: 18rem;">

                            <div class="card-body p-1">
                                <h5 class="card-title">
                                    <%= place.title %>
                                </h5>

                                <p class="card-text">
                                    &#8377;<%= place.price.toLocaleString('en-IN') %> for 2 nights
                                    <i class="tax-info"> &nbsp;&nbsp;+18% GST</i>
                                </p>
                            </div>
                        </div>
                    </a>
                </div>
                <% } %>
        </div>
    </body>
    <script>
        let taxToggle = document.getElementById('switchCheckReverse');
        taxToggle.addEventListener('click', () => {
            let taxInfo = document.getElementsByClassName('tax-info');
            for(let info of taxInfo) {
                if(info.style.display != 'inline') {
                    info.style.display = 'inline';
                } else {
                    info.style.display = 'none';
                }
            }
        });
    </script>